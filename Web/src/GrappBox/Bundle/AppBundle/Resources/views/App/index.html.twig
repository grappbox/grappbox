{#
# This file is subject to the terms and conditions defined in
# file "LICENSE.txt", which is part of the GRAPPBOX source code package.
# COPYRIGHT GRAPPBOX. ALL RIGHTS RESERVED.
#}

{% spaceless %}

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta http-equiv="content-language" content="en-us">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="GrappBox - The new way to manage projects">
    <meta name="author" content="The GrappBox team">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta charset="UTF-8">
    <base href="/app/">
    <title>GrappBox</title>
    <link rel="apple-touch-icon" sizes="57x57" href="../resources/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../resources/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../resources/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../resources/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../resources/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../resources/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../resources/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../resources/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../resources/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../resources/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../resources/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../resources/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../resources/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="../resources/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../resources/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">    
    <!-- Google Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900">

    {% stylesheets
    '@AppBundle/Resources/public/css/vendor/bootstrap.css'
    '@AppBundle/Resources/public/css/vendor/bootstrap-material.css'
    '@AppBundle/Resources/public/css/vendor/ripples.css'
    '@AppBundle/Resources/public/css/vendor/material-icons.css'
    '@AppBundle/Resources/public/css/vendor/angular-bootstrap-calendar.css'
    '@AppBundle/Resources/public/css/vendor/angular-tags-input.css'
    '@AppBundle/Resources/public/css/vendor/angular-tags-input.bootstrap.css'
    '@AppBundle/Resources/public/css/vendor/angular-ui-notification.css'
    '@AppBundle/Resources/public/css/vendor/angular-gantt.css'
    '@AppBundle/Resources/public/css/vendor/angular-gantt-plugins.css'
    '@AppBundle/Resources/public/css/vendor/angular-ui-tree.css'
    '@AppBundle/Resources/public/css/app/app.css'
    filter='?uglifycss' output='resources/css/app.min.css' %}
    <link rel="stylesheet" type="text/css" href="{{ asset_url }}">
    {% endstylesheets %}

    {% javascripts
    '@AppBundle/Resources/public/js/vendor/jquery.js'
    '@AppBundle/Resources/public/js/vendor/arrive.js'
    '@AppBundle/Resources/public/js/vendor/bootstrap.js'
    '@AppBundle/Resources/public/js/vendor/bootstrap-material.js'
    '@AppBundle/Resources/public/js/vendor/hammer.js'
    '@AppBundle/Resources/public/js/vendor/moment.js'
    '@AppBundle/Resources/public/js/vendor/ripples.js'
    '@AppBundle/Resources/public/js/vendor/angular.js'
    '@AppBundle/Resources/public/js/vendor/angular-animate.js'
    '@AppBundle/Resources/public/js/vendor/angular-base64.js'
    '@AppBundle/Resources/public/js/vendor/angular-base64-upload.js'
    '@AppBundle/Resources/public/js/vendor/angular-bootstrap-calendar-tpls.js'
    '@AppBundle/Resources/public/js/vendor/angular-cookies.js'
    '@AppBundle/Resources/public/js/vendor/angular-local-storage.js'
    '@AppBundle/Resources/public/js/vendor/angular-messages.js'
    '@AppBundle/Resources/public/js/vendor/angular-route.js'
    '@AppBundle/Resources/public/js/vendor/angular-tags-input.js'
    '@AppBundle/Resources/public/js/vendor/angular-ui-bootstrap-tpls.js'
    '@AppBundle/Resources/public/js/vendor/angular-ui-notification.js'
    '@AppBundle/Resources/public/js/vendor/angular-moment.js'
    '@AppBundle/Resources/public/js/vendor/moment-range.js'
    '@AppBundle/Resources/public/js/vendor/angular-gantt.js'
    '@AppBundle/Resources/public/js/vendor/angular-gantt-plugins.js'
    '@AppBundle/Resources/public/js/vendor/angular-ui-tree.js'
    '@AppBundle/Resources/public/js/vendor/drag-and-drop.js'
    '@AppBundle/Resources/public/js/vendor/element-queries.js'
    '@AppBundle/Resources/public/js/vendor/resize-sensor.js'
    '@AppBundle/Resources/public/js/vendor/js-plumb.js'
    '@AppBundle/Resources/public/js/app/core.js'
    '@AppBundle/Resources/public/js/app/root.js'
    '@AppBundle/Resources/public/js/app/login.js'
    '@AppBundle/Resources/public/js/app/routing.js'
    '@AppBundle/Resources/public/js/app/bugtracker/bugtracker-list.js'
    '@AppBundle/Resources/public/js/app/bugtracker/bugtracker.js'
    '@AppBundle/Resources/public/js/app/tasks/task.js'
    '@AppBundle/Resources/public/js/app/tasks/task-list.js'
    '@AppBundle/Resources/public/js/app/gantt/gantt.js'
    '@AppBundle/Resources/public/js/app/calendar/calendar.js'
    '@AppBundle/Resources/public/js/app/cloud/cloud-list.js'
    '@AppBundle/Resources/public/js/app/cloud/cloud.js'
    '@AppBundle/Resources/public/js/app/dashboard/dashboard-access.js'
    '@AppBundle/Resources/public/js/app/dashboard/dashboard-list.js'
    '@AppBundle/Resources/public/js/app/dashboard/dashboard.js'
    '@AppBundle/Resources/public/js/app/notifications/notifications.js'
    '@AppBundle/Resources/public/js/app/profile/profile.js'
    '@AppBundle/Resources/public/js/app/project/settings.js'
    '@AppBundle/Resources/public/js/app/timeline/timeline-factory.js'
    '@AppBundle/Resources/public/js/app/timeline/timeline.js'
    '@AppBundle/Resources/public/js/app/whiteboard/whiteboard-access.js'
    '@AppBundle/Resources/public/js/app/whiteboard/whiteboard-canvas.js'
    '@AppBundle/Resources/public/js/app/whiteboard/whiteboard-list.js'
    '@AppBundle/Resources/public/js/app/whiteboard/whiteboard-objects.js'
    '@AppBundle/Resources/public/js/app/whiteboard/whiteboard.js'
    filter='?uglifyjs2' output='resources/js/app.min.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}

    <!-- Responsive for IE8 and lower -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="../resources/js/html5shiv.min.js"></script>
    <script src="../resources/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div data-ng-app="grappbox" id="ng-app">
      <div data-ng-controller="grappboxController">

        <!-- Navigation -->
        <div class="navigation {[{ app.colors[app.current] + '-background' }]}" sidebar-directive="sidebar.open">
          <div class="container-fluid">
            <div class="navigation-left" data-ng-cloak>
              <a href="" class="btn navigation-toggle" title="Toggle navigation drawer" data-ng-click="sidebar.toggle()"><i class="material-icons">menu</i></a>
              <p>{[{ page.onLoad ? 'Loading...' : page.title }]}</p>
            </div>
            <div class="navigation-right">
              <a href="notifications" class="btn {[{ app.colors[app.current] + '-hover' }]}" title="See all your notifications"><i class="material-icons">{[{ ::app.icons['/notifications'] }]}</i></a>
              <a href="profile" class="btn {[{ app.colors[app.current] + '-hover' }]}" title="View and edit your profile"><i class="material-icons">{[{ ::app.icons['/profile'] }]}</i></a>
              <a href="logout" class="btn {[{ app.colors[app.current] + '-hover' }]}" title="Sign out of GrappBox"><i class="material-icons">{[{ ::app.icons['/logout'] }]}</i></a>
            </div>
            <div class="clearfix"></div>
          </div>
        </div>

        <!-- Navigation drawer -->
        <aside class="sidebar" sidebar-directive="sidebar.open">
          <div class="sidebar-header">
            <a class="toggle raised visible-xs" href="" data-ng-click="sidebar.toggle()"><i class="material-icons">arrow_back</i></a>
            <a href="profile" title="View and edit your profile"><img class="avatar" src="../resources/img/default_avatar.min.png"></a>
            <p class="ellipsis user"><a href="profile" title="View and edit your profile">{[{ user.firstname }]} {[{ user.lastname }]}</a></p>
            <div class="clearfix"></div>
          </div>
          <div class="sidebar-content">
            <ul>
              <li data-ng-if="project.set">
                <a href="" title="Sign out of this project" data-ng-click="project.switch()" class="btn">
                  <i class="material-icons">arrow_back</i>Change project</a>
              </li>            
              <li>
                <a data-ng-href="{[{ project.set ? 'dashboard/' + project.id : './' }]}" title="Go to your dashboard" class="btn {[{ app.routes['/dashboard'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/dashboard'] }]}</i>Dashboard</a>
              </li>
              <li>
                <a href="calendar" title="Go to your calendar" class="btn {[{ app.routes['/calendar'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/calendar'] }]}</i>Calendar</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'cloud/' + project.id }]}" title="Access your online files and folders" class="btn {[{ app.routes['/cloud'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/cloud'] }]}</i>Cloud</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'timeline/' + project.id }]}" title="Go to your projects timelines" class="btn {[{ app.routes['/timeline'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/timeline'] }]}</i>Timeline</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'bugtracker/' + project.id }]}" title="Go to the bugtracker section" class="btn {[{ app.routes['/bugtracker'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/bugtracker'] }]}</i>Bugtracker</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'tasks/' + project.id }]}" title="Go to the tasks section" class="btn {[{ app.routes['/tasks'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/tasks'] }]}</i>Tasks</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'gantt/' + project.id }]}" title="Go to the gantt section" class="btn {[{ app.routes['/gantt'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/gantt'] }]}</i>Gantt</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'whiteboard/' + project.id }]}" title="Use your projects collaborative whiteboards" class="btn {[{ app.routes['/whiteboard'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/whiteboard'] }]}</i>Whiteboard</a>
              </li>
              <li data-ng-if="project.set">
                <a data-ng-href="{[{ 'settings/' + project.id }]}" title="Edit your current project settings" class="btn {[{ app.routes['/settings'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/settings'] }]}</i>Project settings</a>
              </li>
              <li>
                <a href="profile" title="View and edit your profile" class="btn {[{ app.routes['/profile'] ? 'active' : '' }]}">
                  <i class="material-icons">{[{ ::app.icons['/profile'] }]}</i>Profile</a>
              </li>
            </ul>
          </div>
        </aside>

        <!-- Page content -->
        <div class="page-content" sidebar-directive="sidebar.open">
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <!-- Dynamic view -->
                <div data-ng-if="page.onLoad">
                  <div class="spinner view">
                    <svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></circle></svg>
                  </div>
                </div>
                <div data-ng-if="!page.onLoad">
                  <div class="container-content" data-ng-view></div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </body>
</html>

{% endspaceless %}