<!-- This file is subject to the terms and conditions defined   in file 'LICENSE.txt',
which is part of the GRAPPBOX source code package.
COPYRIGHT GRAPPBOX. ALL RIGHTS RESERVED. -->

<div class="panel panel-warning">
  <div class="panel-heading">Warning</div>
  <div class="panel-body">
    <p>This section is under construction.</p>
  </div>
</div>

<div class="view view-content" id="whiteboard-list-view">

  <section class="app-section" id="whiteboard-help">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <!-- grappbox.data : whiteboard information -->
          <div class="section-heading">
            <h2>Choose a project whiteboard</h2>
            <p>Scroll down to see all your projects. On each, hold to navigate between all your collaborative whiteboards (sorted by name).
              <br>For each whiteboard card, you'll find useful information such as creation date and time or the project which it's associated to.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="app-section" id="whiteboard-list">
    <div class="container">
      <div class="row">
        <div data-ng-if="data.onLoad">
          <div class="loading-content section">
            <div></div>
          </div>
        </div>
        <div data-ng-repeat="project in data.projects" class="each-object" data-ng-if="!data.onLoad">
          <div class="col-lg-12">
            <!-- grappbox.data : whiteboard list (per project) -->
            <div class="section-heading">
              <h3><i class="fa fa-folder-o"></i>"{[{ project.name }]}"</h3>
              <a href="" title="Add a new whiteboard" data-project-name="{[{ project.name }]}" data-project-id="{[{ project.id }]}" data-ng-click="view_addWhiteboard($event)" class="standalone"><i class="fa fa-plus"></i>Add a new whiteboard</a>
            </div>
            <div class="section-content tiles">
              <div id="all-whiteboards-data">
                <div data-ng-if="data.projectsWhiteboards_onLoad[project.name]">
                  <div class="loading-content section">
                    <div></div>
                  </div>
                </div>
                <div data-ng-if="!data.projectsWhiteboards_onLoad[project.name]">
                  <div data-ng-if="data.projectsWhiteboards_message[project.name] == '_valid'" panhandler>
                    <div class="data-wrapper" data-ng-repeat="whiteboard in data.projectsWhiteboards_content[project.name]" data-ng-if="!whiteboard.deletedAt">
                      <ul class="data-content each-available-whiteboard shadow">
                        <li class="data-content-header">
                          <span class="title">"{[{ whiteboard.name }]}"</span>
                          <a href="" title="Delete this whiteboard" data-id="{[{ whiteboard.id }]}" data-name="{[{ whiteboard.name }]}" data-project-name="{[{ project.name }]}" data-project-id="{[{ project.id }]}" data-ng-click="view_deleteWhiteboard($event)" class="standalone"><i class="fa fa-times"></i></a>
                        </li>
                        <li>
                          <span><i class="fa fa-list"></i>From "{[{ project.name }]}" (project #{[{ project.id }]})</span>
                        </li>
                        <li>
                          <span><i class="fa fa-clock-o"></i>Created: {[{ formatObjectDate(whiteboard.createdAt.date) }]}</span>
                        </li>
                        <li>
                          <span><i class="fa fa-clock-o"></i>Updated: {[{ formatObjectDate(whiteboard.updatedAt.date) }]}</span>
                        </li>
                        <li>
                          <a href="whiteboard/{[{ project.id }]}/{[{ whiteboard.id }]}" title="Open whiteboard #{[{ whiteboard.id }]}" class="btn-default btn-access">
                            <i class="fa fa-edit fa-fw"></i>Open</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div data-ng-if="data.projectsWhiteboards_message[project.name] == '_empty'">
                    <div class="data-wrapper error">
                      <p><i class="fa fa-frown-o"></i>There is no whiteboard for this project.</p>
                    </div>
                  </div>
                  <div data-ng-if="data.projectsWhiteboards_message[project.name] == '_denied'">
                    <div class="data-wrapper error">
                      <p><i class="fa fa-times"></i>You don't have access to the whiteboards of this project.</p>
                    </div>
                  </div>
                  <div data-ng-if="data.projectsWhiteboards_message[project.name] == '_invalid'">
                    <div class="data-wrapper error">
                      <p><i class="fa fa-times"></i>An error has occurred. Please try again.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div>
    <script type="text/ng-template" id="view_createWhiteboard.html">
      <div class="modal-header">
        <h3 class="modal-title">Whiteboard creation</h3>
      </div>
      <div class="modal-body">
        <p>Please enter a name for your new whiteboard.</p>
        <input type="text" placeholder="Whiteboard name..." id="view_newWhiteboardName" autofocus>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-default btn-submit" data-ng-click="view_createWhiteboardSuccess()"><i class="fa fa-check"></i>OK</button>
        <button type="button" class="btn-default btn-access" data-ng-click="view_createWhiteboardFailure()"><i class="fa fa-ban"></i>Cancel</button>
      </div>
    </script>
  </div>

  <div>
    <script type="text/ng-template" id="view_deleteWhiteboard.html">
      <div class="modal-header">
        <h3 class="modal-title">Whiteboard deletion</h3>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this whiteboard?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-default btn-submit" data-ng-click="view_deleteWhiteboardActionConfirmed()"><i class="fa fa-check"></i>Yes</button>
        <button type="button" class="btn-default btn-access" data-ng-click="view_deleteWhiteboardActionCancelled()"><i class="fa fa-times"></i>No</button>
      </div>
    </script>
  </div>

</div>