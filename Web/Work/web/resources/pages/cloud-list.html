<!-- This file is subject to the terms and conditions defined   in file 'LICENSE.txt',
which is part of the GRAPPBOX source code package.
COPYRIGHT GRAPPBOX. ALL RIGHTS RESERVED. -->

<div class="view view-content" id="cloud-list-view" ng-controller="cloudController">

    <uib-alert ng-repeat="alert in alertList" type="{[{ alert.type }]}" close="closeAlert($index)">{[{ alert.message }]}</uib-alert>

    <section class="app-section" id="cloud-list">
        <div class="container app-container">
            <div class="row">
                <div class="col-lg-12">
                    <!-- grappbox.data : cloud list -->
                    <div class="section-heading app-section-heading">
                        <h2>Choose a Cloud</h2>
                        <p class="lead">Hold to navigate between all your current projects that already have a Cloud module (sorted by name).</p>
                    </div>
                    <div class="section-content app-section-content">
                        <div id="all-clouds-data">
                            <div ng-if="userProjectsWithCloudList_isValid && userProjectsWithCloudList" panhandler>
                                <div class="app-data" ng-repeat="projectWithCloud in userProjectsWithCloudList">
                                    <ul class="app-data-list each-project-data btn-float">
                                        <li class="project-picture" ng-show="projectWithCloud.project_logo === null">
                                            <img data-ng-src="../resources/images/default-logo.min.png" height="120" width="120">
                                        </li>
                                        <li class="project-picture" ng-show="projectWithCloud.project_logo !== null">
                                            <img data-ng-src="data:image/png;base64,{[{ projectWithCloud.project_logo }]}" data-err-src="../resources/images/default-logo.min.png" height="120" width="120">
                                        </li>
                                        <li class="project-details">
                                            <div class="project-name">{[{ projectWithCloud.project_name }]}</div>
                                            <div class="project-client">{[{ projectWithCloud.project_company }]}</div>
                                            <div class="clearfix"></div>
                                        </li>
                                        <li class="client-details">
                                            <div class="client-phone">{[{ projectWithCloud.project_phone }]}</div>
                                            <div class="client-mail">{[{ projectWithCloud.contact_mail }]}</div>
                                            <div class="clearfix"></div>
                                        </li>
                                        <li class="clearfix"></li>
                                        <li class="project-cloud-link">
                                            <a ng-href="cloud/{[{ projectWithCloud.project_id }]}" title="Go to '{[{ projectWithCloud.project_name }]}' dedicated Cloud storage"><i class="fa fa-arrow-up fa-fw"></i>Go to Cloud storage</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div ng-if="userProjectsWithCloudList_isValid && !userProjectsWithCloudList">
                                <div class="app-data error">
                                    <p><i class="fa fa-drown-o"></i>None of your current projects have a Cloud module attached.</p>
                                </div>
                            </div>
                            <div ng-if="!userProjectsWithCloudList_isValid">
                                <div class="app-data error">
                                    <p><i class="fa fa-times"></i>An error has occurred. Please try again.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="app-section" id="cloud-list-actions">
        <div class="container app-container">
            <div class="row">
                <div class="col-lg-12">
                    <!-- grappbox.data : cloud list actions -->
                    <div class="section-heading app-section-heading">
                        <h2>Create a new cloud</h2>
                        <p class="lead">Hold to navigate between all your current projects that DO NOT have a Cloud module (sorted by name).<br>To create a Cloud for a project, simply press 'Create' below the selected projectWithCloud.</p>
                    </div>
                    <div class="section-content app-section-content">
                        <div id="all-clouds-data">
                            <div ng-if="userProjectsWithCloudList_isValid && userProjectsWithCloudList" panhandler>
                                <div class="app-data" ng-repeat="projectWithCloud in userProjectsWithCloudList">
                                    <ul class="app-data-list each-project-data btn-float">
                                        <li class="project-picture" ng-show="projectWithCloud.project_logo === null">
                                            <img data-ng-src="../resources/images/default-logo.min.png" height="120" width="120">
                                        </li>
                                        <li class="project-picture" ng-show="projectWithCloud.project_logo !== null">
                                            <img data-ng-src="data:image/png;base64,{[{ projectWithCloud.project_logo }]}" data-err-src="../resources/images/default-logo.min.png" height="120" width="120">
                                        </li>
                                        <li class="project-details">
                                            <div class="project-name">{[{ projectWithCloud.project_name }]}</div>
                                            <div class="project-client">{[{ projectWithCloud.project_company }]}</div>
                                            <div class="clearfix"></div>
                                        </li>
                                        <li class="client-details">
                                            <div class="client-phone">{[{ projectWithCloud.project_phone }]}</div>
                                            <div class="client-mail">{[{ projectWithCloud.contact_mail }]}</div>
                                            <div class="clearfix"></div>
                                        </li>
                                        <li class="clearfix"></li>
                                        <li class="project-cloud-link">
                                            <a ng-href="cloud/{[{ projectWithCloud.project_id }]}" title="Create a dedicated Cloud storage for '{[{ projectWithCloud.project_name }]}'"><i class="fa fa-plus fa-fw"></i>Create a Cloud storage</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div ng-if="userProjectsWithCloudList_isValid && !userProjectsWithCloudList">
                                <div class="app-data error">
                                    <p><i class="fa fa-smile-o"></i>All of your current projects have a Cloud module attached.</p>
                                </div>
                            </div>
                            <div ng-if="!userProjectsWithCloudList_isValid">
                                <div class="app-data error">
                                    <p><i class="fa fa-times"></i>An error has occurred. Please try again.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>
