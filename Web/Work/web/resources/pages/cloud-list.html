<!-- This file is subject to the terms and conditions defined   in file 'LICENSE.txt',
which is part of the GRAPPBOX source code package.
COPYRIGHT GRAPPBOX. ALL RIGHTS RESERVED. -->

<div class="view view-content" id="cloud-list-view" ng-controller="cloudListController">

    <uib-alert ng-repeat="alert in alertList" type="{[{ alert.type }]}" close="closeAlert($index)">{[{ alert.message }]}</uib-alert>

    <section class="app-section" id="cloud-list">
        <div class="container app-container">
            <div class="row">
                <div class="col-lg-12">
                    <!-- grappbox.data : cloud list -->
                    <div class="section-heading app-section-heading">
                        <h2>Choose the Cloud you want to access</h2>
                        <p class="lead">Hold to navigate between all your your project Cloud modules (sorted by name).<br>For each project, you'll find useful information project and client name. Use the link below each card to go to the associated online storage.</p>
                    </div>
                    <div class="section-content app-section-content">
                        <div id="all-clouds-data">
                            <div ng-if="userProjects_isValid && userProjects" panhandler>
                                <div class="app-data" ng-repeat="project in userProjects">
                                    <ul class="app-data-list each-project-data btn-float">
                                        <li class="project-picture" ng-show="project.project_logo === null">
                                            <img data-ng-src="../resources/images/default-logo.min.png" height="120" width="120">
                                        </li>
                                        <li class="project-picture" ng-show="project.project_logo !== null">
                                            <img data-ng-src="data:image/png;base64,{[{ project.project_logo }]}" data-err-src="../resources/images/default-logo.min.png" height="120" width="120">
                                        </li>
                                        <li class="project-details">
                                            <div class="project-name">{[{ project.project_name }]}</div>
                                            <div class="project-client">{[{ project.project_company }]}</div>
                                            <div class="clearfix"></div>
                                        </li>
                                        <li class="client-details">
                                            <div class="client-phone">{[{ project.project_phone }]}</div>
                                            <div class="client-mail">{[{ project.contact_mail }]}</div>
                                            <div class="clearfix"></div>
                                        </li>
                                        <li class="clearfix"></li>
                                        <li class="project-cloud-link">
                                            <a ng-href="cloud/{[{ project.project_id }]}" title="Go to '{[{ project.project_name }]}' dedicated Cloud storage"><i class="fa fa-arrow-up fa-fw"></i>Go to Cloud storage</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div ng-if="userProjects_isValid && !userProjects">
                                <div class="app-data error">
                                    <p><i class="fa fa-drown-o"></i>You don't have any project.</p>
                                </div>
                            </div>
                            <div ng-if="!userProjects_isValid">
                                <div class="app-data error">
                                    <p><i class="fa fa-times"></i>An error has occurred. Please try again.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="app-section" id="cloud-list">
        <div class="container app-container">
            <div class="row">
                <div class="col-lg-12">
                    <!-- grappbox.data : cloud information -->
                    <div class="section-heading app-section-heading">
                        <p class="lead">When your create a project, GrappBox automaticly attach a dedicated Cloud storage that allows you to keep all your essential files with you. Each project can have a maximum of one Cloud module, whose overall capacity depends on your plan. This page shows you a full list of your projects, and the associated Cloud modules. Use the 'Go to Cloud storage' button below each project card to begin.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>
