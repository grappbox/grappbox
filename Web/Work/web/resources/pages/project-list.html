<!-- This file is subject to the terms and conditions defined in file 'LICENSE.txt',
which is part of the GRAPPBOX source code package.
COPYRIGHT GRAPPBOX. ALL RIGHTS RESERVED. -->

<div class="view view-content" id="project-list-view" data-ng-controller="projectListController">

    <uib-alert ng-repeat="alert in alertList" type="{[{ alert.type }]}">{[{ alert.message }]}</uib-alert>

    <section class="app-section" id="project-list">
        <div class="container app-container">
            <div class="row">
                <div class="col-lg-12">
                    <!-- grappbox.data : project list -->
                    <div class="section-heading app-section-heading">
                      <h2></h2>
                      <p>
                          <a href="project/0" title="Create new project" class="btn-default btn-access">
                            <i class="fa fa-plus fa-fw"></i>Create new project</a>
                      </p>
                    </div>
                    <div class="section-content app-section-content">

                      <div class="section-content tiles" data-ng-if="data.onLoad">
                        <div class="loading-content section">
                          <div></div>
                        </div>
                      </div><!-- !section-content tiles-->

                      <div class="section-content tiles" data-ng-if="!data.onLoad">
                        <div id="all-projects-data">
                          <div data-ng-if="data.isValid && data.userProjects" panhandler>
                            <div class="data-wrapper" data-ng-repeat="object in data.userProjects">
                              <ul class="data-content each-project-data shadow">
                                <li class="project-picture left" data-ng-if="!object.logo">
                                  <img class="shadow" data-ng-src="../resources/images/default-logo.min.png" height="120" width="120">
                                </li>
                                <li class="project-picture left" data-ng-if="object.logo">
                                  <img class="shadow" data-ng-src="data:image/png;base64,{[{ object.logo }]}" data-err-src="../resources/images/default-logo.min.png" height="120" width="120">
                                </li>
                                <li class="project-data left">
                                  <div class="upper bold">"{[{ object.name }]}"</div>
                                  <div class="clearfix"></div>
                                </li>
                                <li class="project-data left">
                                  <div><i class="fa fa-building"></i>{[{ object.company ? object.company : 'N/A' }]}</div>
                                  <div><i class="fa fa-phone"></i>{[{ object.phone ? object.phone : 'N/A' }]}</div>
                                  <div><i class="fa fa-envelope-o"></i>{[{ object.contact_mail ? object.contact_mail : 'N/A' }]}</div>
                                  <div class="clearfix"></div>
                                </li>
                                <li class="clearfix"></li>
                                <li>
                                  <a ng-href="project/{[{ object.id }]}" title="Go to '{[{ object.name }]}' project settings" class="btn-default btn-submit"><i class="fa fa-arrow-right fa-fw"></i>Go to project settings</a>
                                </li>
                              </ul>
                            </div>
                          </div><!--  !panhandler -->

                          <div data-ng-if="data.isValid && !data.userProjects">
                            <div class="data-wrapper error">
                              <p><i class="fa fa-drown-o"></i>You don't have any project.</p>
                            </div>
                          </div>
                          <div data-ng-if="!data.isValid">
                            <div class="data-wrapper error">
                              <p><i class="fa fa-times"></i>An error has occurred. Please try again.</p>
                            </div>
                          </div>
                        </div><!-- all-projects-data-->
                      </div><!-- !section-content tiles-->

                    </div>
                </div>
            </div>
        </div>
    </section>

</div>
