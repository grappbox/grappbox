$(document).ready(function(){$('a[href^="#"]').on("click",function(a){a.preventDefault();var e=this.hash,t=$(e);$("html, body").stop().animate({scrollTop:t.offset().top-50},700,"swing")});for(var a=$("nav li").children(),e=[],t=0;t<a.length;t++){var n=a[t],i=$(n).attr("href");-1!==i.indexOf("#")&&e.push(i)}$(window).scroll(function(){for(var a=$(window).scrollTop(),t=$(window).height(),n=$(document).height(),i=0;i<e.length;i++){var l=e[i],o=$(l).offset().top-55,r=$(l).height();a>=o&&o+r>=a?$("a[href='"+l+"']").addClass("nav-active"):$("a[href='"+l+"']").removeClass("nav-active")}if(a+t==n&&!$("nav li:last-child a").hasClass("nav-active")){var v=$(".nav-active").attr("href");$("a[href='"+v+"']").removeClass("nav-active"),$("nav li:last-child a").addClass("nav-active")}})});