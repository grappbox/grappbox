<!-- This file is subject to the terms and conditions defined in file "LICENSE.txt",
which is part of the GRAPPBOX source code package.
COPYRIGHT GRAPPBOX. ALL RIGHTS RESERVED. -->

<!-- grappbox.data : dashboard information -->

<h1 class="text-center">Welcome to GrappBox</h1>

<section class="text-center">
  <p>Choose a project to begin, or create one.</p>
  <a href="settings/0" class="btn btn-raised btn-danger" title="Go to the creation process page">Create a new project</a>
  <a href="settings/0" class="btn btn-danger btn-fab btn-fixed" title="Create a new project"><i class="material-icons">add</i></a>
</section>

<section id="dashboard-list">
  <div class="row">
    <div class="col-lg-12">
      <!-- grappbox.data : (dashboard) user projects list -->
      <div data-ng-if="view.onLoad">
        <div class="spinner section">
          <svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></circle></svg>
        </div>
      </div>
      <div data-ng-if="!view.onLoad">
        <div data-ng-if="view.valid && projects">
          <div class="each-data col-md-3" data-ng-repeat="project in projects">
            <div class="well">
              <ul>
                <li class="col-xs-offset-2 avatar" data-ng-if="!project.logo">
                  <img data-ng-src="../resources/img/default_logo.min.png" height="120" width="120">
                </li>
                <li class="col-xs-offset-2 avatar" data-ng-if="project.logo">
                  <img data-ng-src="data:image/png;base64,{[{ ::project.logo }]}" data-err-src="../resources/img/default_logo.min.png" height="120" width="120">
                </li>
                <li class="col-xs-offset-2 ellipsis title">"{[{ project.name }]}"</li>
                <li class="col-xs-offset-2"><i class="material-icons">bug_report</i>{[{ project.number_messages > 0 ? project.number_bugs : "No" }]} issues</li>
                <li class="col-xs-offset-2"><i class="material-icons">message</i>{[{ project.number_messages > 0 ? project.number_messages : "No" }]} messages</li>
                <li class="col-xs-offset-2"><i class="material-icons">playlist_add_check</i>{[{ project.number_ongoing_tasks }]}/{[{ project.number_finished_tasks }]} finished tasks</li>
              </ul>
              <a href="" title="Use this project" class="btn btn-default" data-ng-click="method.loadProject(project)">Open</a>
              <a href="settings/{[{ project.id }]}" title="Edit this project" class="btn">Edit</a>
              <div class="clearfix"></div>
            </div>
          </div>
        </div>
        <div data-ng-if="view.valid && !projects">
          <div class="well centered">
            <p><i class="material-icons">border_clear</i><br>You don't have any project.<br>Create one now!</p>
          </div>
        </div>
        <div data-ng-if="!view.valid">
          <div class="well centered">
            <p><i class="material-icons">clear</i><br>An error has occurred. Please try again.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>