<!--
    Summary: Calendar view
-->

<ion-view>
    <ion-nav-title class="item-text-wrap">Tasks</ion-nav-title>
    <ion-content overflow-scroll="false" id="calendar">
        <div class="button-bar">
            <!-- Year button -->
            <a class="button button-positive" ng-click="calendar.typeView='year'">Year</a>
            <!-- Month button -->
            <a class="button button-positive" ng-click="calendar.typeView='month'">Month</a>
            <!-- Week button -->
            <a class="button button-positive" ng-click="calendar.typeView='week'">Week</a>
            <!-- Day button -->
            <a class="button button-positive" ng-click="calendar.typeView='day'">Day</a>
        </div>
        <div class="button-bar">
            <button class="button button-positive"
                    mwl-date-modifier
                    date="calendar.date"
                    decrement="calendar.typeView">
                Previous
            </button>
            <button class="button button-positive"
                    mwl-date-modifier
                    date="calendar.date"
                    set-to-today>
                Today
            </button>
            <button class="button button-positive"
                    mwl-date-modifier
                    date="calendar.date"
                    increment="calendar.typeView">
                Next
            </button>
        </div>
        <h2 class="title">{{ calendar.title }}</h2>
        <mwl-calendar view="calendar.typeView"
                      view-date="calendar.date"
                      events="calendar.events"
                      view-title="calendar.title"
                      cell-modifier="calendar.cellEdit(calendarCell)"
                      on-event-click="eventClicked(calendarEvent)"
                      on-event-times-changed="calendarEvent.startsAt = calendarNewEventStart; calendarEvent.endsAt = calendarNewEventEnd"
                      cell-is-open="calendar.cellOpen"
                      day-view-start="00:00"
                      day-view-end="23:59"
                      day-view-split="30">
        </mwl-calendar>
    </ion-content>
</ion-view>